# MCIX Asset Analysis Test GitHub Action

Run **MCIX asset-level static analysis** for IBM DataStage NextGen inside your GitHub workflows.

This action wraps the `mcix asset-analysis test` command, letting you run MCIX compliance checks against one or more DataStage assets as part of CI/CD.

<!-- BEGIN MCIX-ACTION-DOCS -->
# MCIX asset-analysis test action

Runs mcix asset-analysis test

> Namespace: `asset-analysis`
> Action: `test`
> Usage: `${{ github.repository }}/asset-analysis/test@v1`

... where `v1` is the version of the action you wish to use.

---

## ğŸš€ Usage

Minimal example:

```yaml
jobs:
  asset-analysis-test:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Run MCIX asset-analysis test action
        id: asset-analysis-test
        uses: ${{ github.repository }}/asset-analysis/test@v1
        with:
          api-key: <required>
          url: <required>
          user: <required>
          report: <required>
          rules: <required>
          # project: <optional>
          # project-id: <optional>
          # included-tags: <optional>
          # excluded-tags: <optional>
          # test-suite: mcix tests
          # include-asset-in-test-name: false
          # ignore-test-failures: false
```

---

### Project selection rules

- Provide **exactly one** of `project` or `project-id`.
- If both are supplied, the action should fail fast (ambiguous).

---

## ğŸ”§ Inputs

| Name | Required | Default | Description |
| --- | --- | --- | --- |
| `api-key` | âœ… |  | API key for authentication |
| `url` | âœ… |  | URL of the DataStage server |
| `user` | âœ… |  | Username for authentication |
| `report` | âœ… | ./compile-report.xml | Path to output the compile report |
| `project` | âŒ |  | DataStage project name |
| `project-id` | âŒ |  | DataStage project id |
| `rules` | âœ… |  | Path to the compliance rules |
| `included-tags` | âŒ |  | Comma-separated list of tags to include |
| `excluded-tags` | âŒ |  | Comma-separated list of tags to exclude |
| `test-suite` | âŒ | mcix tests | Test suite name |
| `include-asset-in-test-name` | âŒ | false (if omitted) | Include asset names in test names in the report? (true/false) |
| `ignore-test-failures` | âŒ | false (if omitted) | Ignore test failures (always return 0)? (true/false) |

---

## ğŸ“¤ Outputs

| Name | Description |
| --- | --- |
| `return-code` | The return code of the command |
| `junit-path` | Path to the JUnit XML report generated by mcix asset-analysis test |

---

## ğŸ§± Implementation details

- `runs.using`: `docker`
- `runs.image`: `Dockerfile`

---

## ğŸ§© Notes

- The section above is auto-generated from `action.yml`.
- To edit documentation, update `action.yml` (name/description/inputs/outputs).
<!-- END MCIX-ACTION-DOCS -->
## ğŸ“š More information

See https://docs.mettleci.io
